# AIClaude Frontend æœåŠ¡å™¨éƒ¨ç½²é…ç½®

## ğŸ–¥ï¸ æœåŠ¡å™¨ä¿¡æ¯

- **æœåŠ¡å™¨ IP**: `43.251.225.146`
- **åŸŸå**: `aiclaude.online`
- **ç«¯å£**:
  - HTTP: 80
  - HTTPS: 443
  - å‰ç«¯å®¹å™¨å†…éƒ¨: 3000

## ğŸ“‹ éƒ¨ç½²æ­¥éª¤æ€»è§ˆ

### 1. DNS é…ç½®ï¼ˆå¿…é¡»å…ˆå®Œæˆï¼ï¼‰

ç™»å½•æ‚¨çš„åŸŸåæ³¨å†Œå•†ï¼ˆé˜¿é‡Œäº‘/è…¾è®¯äº‘/GoDaddyç­‰ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹ DNS è®°å½•ï¼š

#### A è®°å½•ï¼ˆä¸»åŸŸåï¼‰
```
ä¸»æœºè®°å½•: @
è®°å½•ç±»å‹: A
è®°å½•å€¼: 43.251.225.146
TTL: 600
```

#### CNAME è®°å½•ï¼ˆwww å­åŸŸåï¼‰
```
ä¸»æœºè®°å½•: www
è®°å½•ç±»å‹: CNAME
è®°å½•å€¼: aiclaude.online
TTL: 600
```

**ç­‰å¾… 5-10 åˆ†é’Ÿè®© DNS ç”Ÿæ•ˆ**

### 2. æµ‹è¯• DNS è§£æ

åœ¨æœ¬åœ°ç”µè„‘æµ‹è¯•ï¼š
```bash
# Windows (CMDæˆ–PowerShell)
nslookup aiclaude.online

# æœŸæœ›è¾“å‡ºåŒ…å«: 43.251.225.146
```

### 3. ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨

ä½¿ç”¨ MobaXtermï¼š

1. æ‰“å¼€ MobaXterm
2. SSH è¿æ¥åˆ°: `root@43.251.225.146`
3. åœ¨å·¦ä¾§æ–‡ä»¶æµè§ˆå™¨ä¸­ï¼Œå¯¼èˆªåˆ° `/root/`
4. å°†æ•´ä¸ª `aiclaude-react` æ–‡ä»¶å¤¹æ‹–æ‹½ä¸Šä¼ 
5. ç­‰å¾…ä¸Šä¼ å®Œæˆ

### 4. æ‰§è¡Œéƒ¨ç½²è„šæœ¬

åœ¨ MobaXterm ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
cd /root/aiclaude-react
chmod +x deploy.sh setup-ssl.sh
./deploy.sh
```

éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥ Docker ç¯å¢ƒ
- âœ… åˆ›å»º claude ç½‘ç»œ
- âœ… æ„å»ºå‰ç«¯ Docker é•œåƒ
- âœ… å¯åŠ¨å‰ç«¯å®¹å™¨ï¼ˆç«¯å£ 3000ï¼‰
- âœ… å¯åŠ¨ Nginx å®¹å™¨ï¼ˆç«¯å£ 80/443ï¼‰
- âœ… æ‰§è¡Œå¥åº·æ£€æŸ¥
- âœ… æ˜¾ç¤ºè®¿é—®åœ°å€

### 5. éªŒè¯éƒ¨ç½²

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•
curl http://localhost

# ä»å¤–éƒ¨æµ‹è¯•ï¼ˆDNS ç”Ÿæ•ˆåï¼‰
curl http://aiclaude.online
curl http://43.251.225.146
```

ç°åœ¨ç”¨æˆ·å¯ä»¥è®¿é—®: **http://aiclaude.online**

---

## ğŸ”’ é…ç½® HTTPSï¼ˆæ¨èï¼‰

### æ–¹æ³•ï¼šä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦

```bash
cd /root/aiclaude-react

# 1. åœæ­¢ Nginx å®¹å™¨ï¼ˆé‡Šæ”¾ 80 ç«¯å£ï¼‰
docker-compose stop nginx

# 2. è¿è¡Œ SSL è¯ä¹¦ç”³è¯·è„šæœ¬
sudo ./setup-ssl.sh

# æŒ‰ç…§æç¤ºé€‰æ‹©ï¼š
#   1) è‡ªåŠ¨ç”³è¯· Let's Encrypt è¯ä¹¦ (æ¨è)
#   2) æˆ‘å·²æ‰‹åŠ¨å‡†å¤‡å¥½è¯ä¹¦æ–‡ä»¶
#   3) é€€å‡º,ç¨åå†é…ç½®

# 3. è¯ä¹¦ç”³è¯·æˆåŠŸåï¼Œç¼–è¾‘ nginx.conf
nano nginx.conf

# æ‰¾åˆ°ä»¥ä¸‹ä¸¤å¤„å¹¶ä¿®æ”¹ï¼š

# ç¬¬ 1 å¤„ (çº¦ 44 è¡Œ): å–æ¶ˆæ³¨é‡Šä»¥å¯ç”¨ HTTPS é‡å®šå‘
# ä¿®æ”¹å‰:
#     # return 301 https://$server_name$request_uri;
# ä¿®æ”¹å:
#     return 301 https://$server_name$request_uri;

# ç¬¬ 2 å¤„ (çº¦ 50 è¡Œå¼€å§‹): å–æ¶ˆæ‰€æœ‰ HTTPS server é…ç½®çš„æ³¨é‡Š
# å°†æ•´ä¸ª HTTPS server å—çš„ # åˆ é™¤

# 4. ä¿å­˜é€€å‡º (Ctrl+X, ç„¶å Y, ç„¶å Enter)

# 5. é‡å¯æœåŠ¡
docker-compose up -d
```

### éªŒè¯ HTTPS

```bash
# æµ‹è¯• HTTPS è®¿é—®
curl -I https://aiclaude.online

# æœŸæœ›è¿”å›: HTTP/2 200
```

ç°åœ¨ç”¨æˆ·å¯ä»¥è®¿é—®: **https://aiclaude.online** âœ…

---

## ğŸ”§ å¸¸ç”¨ç®¡ç†å‘½ä»¤

### å®¹å™¨ç®¡ç†

```bash
cd /root/aiclaude-react

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
docker-compose logs -f aiclaude-frontend

# æŸ¥çœ‹ Nginx æ—¥å¿—
docker-compose logs -f nginx

# é‡å¯æœåŠ¡
docker-compose restart

# åœæ­¢æœåŠ¡
docker-compose stop

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# é‡æ–°æ„å»ºå¹¶éƒ¨ç½²
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### é˜²ç«å¢™é…ç½®

```bash
# Ubuntu/Debian
sudo ufw allow 80
sudo ufw allow 443
sudo ufw status

# CentOS/RHEL
sudo firewall-cmd --permanent --add-port=80/tcp
sudo firewall-cmd --permanent --add-port=443/tcp
sudo firewall-cmd --reload
```

### SSL è¯ä¹¦ç»­æœŸ

è¯ä¹¦æœ‰æ•ˆæœŸ 90 å¤©ï¼Œè‡ªåŠ¨ç»­æœŸå·²é…ç½®ã€‚æ‰‹åŠ¨æµ‹è¯•ç»­æœŸï¼š

```bash
sudo certbot renew --dry-run
```

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹èµ„æºä½¿ç”¨

```bash
# æŸ¥çœ‹å®¹å™¨èµ„æº
docker stats

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h
```

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# æ‰€æœ‰æœåŠ¡
docker-compose logs -f

# åªçœ‹å‰ç«¯
docker-compose logs -f aiclaude-frontend

# åªçœ‹ Nginx
docker-compose logs -f nginx

# æœ€è¿‘ 100 è¡Œ
docker-compose logs --tail=100
```

---

## â“ å¸¸è§é—®é¢˜

### 1. æ— æ³•è®¿é—®ç½‘ç«™ï¼Ÿ

```bash
# æ£€æŸ¥å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æ£€æŸ¥é˜²ç«å¢™
sudo ufw status
sudo ufw allow 80
sudo ufw allow 443

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep :80
netstat -tlnp | grep :443
```

### 2. DNS æœªç”Ÿæ•ˆï¼Ÿ

```bash
# æµ‹è¯• DNS
ping aiclaude.online
nslookup aiclaude.online

# æ¸…é™¤æœ¬åœ° DNS ç¼“å­˜
# Windows: ipconfig /flushdns
# Mac: sudo dscacheutil -flushcache
# Linux: sudo systemd-resolve --flush-caches
```

### 3. SSL è¯ä¹¦ç”³è¯·å¤±è´¥ï¼Ÿ

```bash
# ç¡®ä¿ 80 ç«¯å£æœªè¢«å ç”¨
docker-compose stop nginx

# é‡æ–°ç”³è¯·
sudo ./setup-ssl.sh
```

### 4. å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

ç¡®ä¿å‰ç«¯å’Œåç«¯åœ¨åŒä¸€ä¸ª Docker ç½‘ç»œ `claude` ä¸­ï¼š

```bash
docker network inspect claude
```

---

## ğŸŒ è®¿é—®åœ°å€æ±‡æ€»

### HTTP è®¿é—®ï¼ˆæœªé…ç½® SSLï¼‰
- http://aiclaude.online
- http://www.aiclaude.online
- http://43.251.225.146

### HTTPS è®¿é—®ï¼ˆé…ç½® SSL åï¼‰
- https://aiclaude.online
- https://www.aiclaude.online

---

## ğŸ‰ éƒ¨ç½²æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œè¯·ç¡®è®¤ï¼š

- [ ] DNS å·²é…ç½®å¹¶ç”Ÿæ•ˆï¼ˆA è®°å½•æŒ‡å‘ 43.251.225.146ï¼‰
- [ ] æ–‡ä»¶å·²ä¸Šä¼ åˆ°æœåŠ¡å™¨ /root/aiclaude-react
- [ ] deploy.sh å·²æ‰§è¡ŒæˆåŠŸ
- [ ] å®¹å™¨çŠ¶æ€æ­£å¸¸ (docker-compose ps)
- [ ] å¯ä»¥é€šè¿‡ http://aiclaude.online è®¿é—®
- [ ] é˜²ç«å¢™å·²å¼€æ”¾ 80 å’Œ 443 ç«¯å£
- [ ] SSL è¯ä¹¦å·²ç”³è¯·ï¼ˆå¯é€‰ï¼‰
- [ ] HTTPS è®¿é—®æ­£å¸¸ï¼ˆå¯é€‰ï¼‰
- [ ] nginx.conf å·²é…ç½® HTTPS é‡å®šå‘ï¼ˆå¯é€‰ï¼‰

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€**

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ DEPLOYMENT.md è·å–æ›´è¯¦ç»†çš„æ–‡æ¡£ã€‚
